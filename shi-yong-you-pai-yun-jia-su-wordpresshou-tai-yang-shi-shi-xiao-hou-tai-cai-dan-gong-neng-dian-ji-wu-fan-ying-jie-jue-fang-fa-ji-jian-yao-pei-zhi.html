<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>使用又拍云加速WordPress简要配置, 解决后台样式失效, 后台功能点击无反应问题 - Merack&#x27;s Home</title><meta name="description" content="之前写了一篇又拍云加速静态网站GitHub Pages的文章, 现在这篇文章就来介绍一下又拍云加速动态网站WordPress的配置以及遇到的一些坑. 又拍云为开发者提供每月免费额度, 可以到下面的链接注册申请: 服务的创建, CNAME绑定和一些基本的配置可以参考我的上一篇文章, 但是有一些CDN的配置要做出调整, 否则会造成网站异常, 主要是在后台页面."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.merack.top/shi-yong-you-pai-yun-jia-su-wordpresshou-tai-yang-shi-shi-xiao-hou-tai-cai-dan-gong-neng-dian-ji-wu-fan-ying-jie-jue-fang-fa-ji-jian-yao-pei-zhi.html"><link rel="alternate" type="application/atom+xml" href="https://blog.merack.top/feed.xml"><link rel="alternate" type="application/json" href="https://blog.merack.top/feed.json"><link rel="shortcut icon" href="https://blog.merack.top/media/website/favicon-16x16.png" type="image/png"><link rel="stylesheet" href="https://blog.merack.top/assets/css/style.css"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.merack.top/shi-yong-you-pai-yun-jia-su-wordpresshou-tai-yang-shi-shi-xiao-hou-tai-cai-dan-gong-neng-dian-ji-wu-fan-ying-jie-jue-fang-fa-ji-jian-yao-pei-zhi.html"},"headline":"使用又拍云加速WordPress简要配置, 解决后台样式失效, 后台功能点击无反应问题","datePublished":"2024-06-19T20:48+08:00","dateModified":"2024-06-23T12:40+08:00","description":"之前写了一篇又拍云加速静态网站GitHub Pages的文章, 现在这篇文章就来介绍一下又拍云加速动态网站WordPress的配置以及遇到的一些坑. 又拍云为开发者提供每月免费额度, 可以到下面的链接注册申请: 服务的创建, CNAME绑定和一些基本的配置可以参考我的上一篇文章, 但是有一些CDN的配置要做出调整, 否则会造成网站异常, 主要是在后台页面.","author":{"@type":"Person","name":"Merack","url":"https://blog.merack.top/authors/merack/"},"publisher":{"@type":"Organization","name":"Merack"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://blog.merack.top/">Merack&#x27;s Home</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://blog.merack.top/about.html" target="_self">About</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>使用又拍云加速WordPress简要配置, 解决后台样式失效, 后台功能点击无反应问题</h1><div class="feed__meta content__meta"><img src="https://blog.merack.top/media/website/qbanjinmuyan_Kan-Tu-Wang.web-2.png" loading="eager" height="500" width="458" class="feed__author-thumb" alt="Merack"> <a href="https://blog.merack.top/authors/merack/" class="feed__author">Merack</a> <time datetime="2024-06-19T20:48" class="feed__date">June 19, 2024</time></div></div></header></div><div class="entry-wrapper content__entry"><p>之前写了一篇<a href="https://blog.merack.top/yong-you-pai-yun-zuo-wei-cdnjia-su-github-pagesjian-yao-pei-zhi-ji-lu-2.html" target="_blank" rel="noopener noreferrer">又拍云加速静态网站GitHub Pages</a>的文章, 现在这篇文章就来介绍一下又拍云加速动态网站WordPress的配置以及遇到的一些坑. 又拍云为开发者提供每月免费额度, 可以到下面的链接注册申请: </p><ol><li>又拍云账号: <a href="https://console.upyun.com/register/?invite=SJxy8d1Sw" target="_blank" rel="noopener">点我注册</a></li><li>注册完毕后可以到 <a href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="_blank" rel="noopener">又拍云联盟</a>页面按要求申请开发者每月免费配额</li></ol><p>服务的创建, CNAME绑定和一些基本的配置可以参考我的上一篇文章, 但是有一些CDN的配置要做出调整, 否则会造成网站异常, 主要是在后台页面. 下面是我是用过程中遇到的一些坑.</p><h2>1. 后台菜单功能点击无反应, 功能异常</h2><figure class="alignnone size-full wp-image-58">原因是又拍云默认规则是忽略URL '?' 后面的的参数. 但是如下图所示, WordPress后台功能基本上都是需要通过URL传进来的参数才能正常工作的 <a href="https://cdn.merack.top/wp-content/uploads/2024/06/微信截图_20190215001806.png"><img src="https://cdn.merack.top/wp-content/uploads/2024/06/微信截图_20190215001806.png" alt="" width="699" height="437" data-is-external-image="true"></a></figure><a href="https://cdn.merack.top/wp-content/uploads/2024/06/微信截图_20190215001941.png"><figure class="alignnone size-full wp-image-59"><img loading="lazy" src="https://cdn.merack.top/wp-content/uploads/2024/06/微信截图_20190215001941.png" alt="" width="761" height="500" data-is-external-image="true"></figure></a>解决方法是在缓存控制选项卡下的参数跟随中选择全程跟随, 这样流量流经CDN时就不会去掉后面的参数, 源站就能正确接受到前端发过来的参数 <a href="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-08-28.png"><figure class="alignnone size-full wp-image-61"><img loading="lazy" src="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-08-28.png" alt="" width="1411" height="348" data-is-external-image="true"></figure></a><p></p><h2>2. 后台样式失效</h2><p>如果你的WordPress站主页正常但是后台页面样式丢失, 并且控制台报了很多/wp-admin/load-scripts.php 加载的js的错误, 那么就要去调整又拍云的缓存规则. 虽说又拍云自己声称可以自动分辨处理动静态资源, 同时加速动静态请求, 但目前来看又拍云对于WordPress 的load-scripts.php动态加载的js的处理还存在问题. 为了防止动态请求出现奇奇怪怪的问题, 我们直接将以下两个包含WordPress核心代码文件的目录加入到缓存控制-&gt;缓存配置的 <span style="color: #f1c40f;"><strong>不缓存规则</strong></span> 中</p><pre>/wp-includes/*
/wp-admin/*</pre><figure class="alignnone size-full wp-image-60"><a href="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-33-08.png"><img src="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-33-08.png" alt="" width="1366" height="473" data-is-external-image="true"></a></figure>处理完成后强烈建议在CDN服务管理页点击一次全站刷新, 让CDN节点上旧的缓存过期 <a href="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-39-08.png"><figure class="alignnone size-full wp-image-62"><img loading="lazy" src="https://cdn.merack.top/wp-content/uploads/2024/06/screenshot_2024_0619_10-39-08.png" alt="" width="1304" height="420" data-is-external-image="true"></figure></a><p></p></div><footer class="content__footer"><div class="entry-wrapper"><div class="content__actions"></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://blog.merack.top/ubuntu2404an-zhuang-mysql80yu-dao-de-yi-xie-wen-ti-shu-ju-ku-rootzhang-hu-she-zhi-mi-ma-wu-xiao-rootzhang-hu-wu-xu-mi-ma-huo-mi-ma-cuo-wu-du-ke-deng-lu-yi-ji-qi-ta-cao-zuo-ji-lu.html" class="content__nav-link" rel="prev"><div><span>Previous</span> 解决Ubuntu安装MySQL8.0后 数据库root设置密码无效, root无需密码或密码错误都可登录</div></a></div><div class="content__nav-next"><a href="https://blog.merack.top/wordpress-an-quan-fang-hu-jian-dan-ji-lu.html" class="content__nav-link" rel="next"><div><span>Next</span> WordPress 安全防护简单记录</div></a></div></div></div></nav></footer></article></main><footer class="footer"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p><div style="flex; align-items: center; justify-content: center;"><a href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral"><img style="margin-right: 1px; vertical-align: middle;" src="https://cdn.merack.top/wp-content/uploads/2024/12/8a9de8d6-7a3c-e553-b074-cf653f15d712.png" alt="upyun"> </a>提供CDN服务</div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://blog.merack.top/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://blog.merack.top/assets/js/scripts.min.js"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'overlay',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>